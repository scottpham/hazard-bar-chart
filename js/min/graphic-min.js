function draw_graphic(){if(Modernizr.svg){$graphic.empty();var t=$graphic.width();render(t),window.onresize=draw_graphic}}function render(t){function e(t){}function a(t){return t.value=+t.value,t}var r={};e(t);var i=Math.ceil(t*aspect_height/aspect_width)-margin.top-margin.bottom,n=d3.scale.linear().range([0,t]),o=d3.scale.ordinal().rangeRoundBands([0,i],.15),l=d3.format("0.2f"),c=d3.svg.axis().scale(n).ticks(tickNumber).tickFormat().orient("top").tickSize(5,0,0),d=d3.svg.axis().scale(o).orient("left").tickSize(5,0,0),g=d3.select("#graphic").append("svg").attr("width",t+margin.left+margin.right).attr("height",i+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")"),s=d3.select("#graphic").append("div").attr("class","tooltip").style("opacity",0),p=function(){return d3.svg.axis().scale(n).orient("bottom").ticks(tickNumber)};d3.csv("spills.csv",a,function(t,e){n.domain(e.map(function(t){return t.CHEMICAL})),g.append("g").attr("class","grid").attr("transform","translate(0,"+i+")").call(p().tickSize(-i-10,0,0).tickFormat(""))})}var mobileThreshold=300,aspect_width=16,aspect_height=9,tickNumber=0,margin={top:30,right:30,bottom:20,left:30},$graphic=$("#graphic"),colors={red1:"#6C2315",red2:"#A23520",red3:"#D8472B",red4:"#E27560",red5:"#ECA395",red6:"#F5D1CA",orange1:"#714616",orange2:"#AA6A21",orange3:"#E38D2C",orange4:"#EAAA61",orange5:"#F1C696",orange6:"#F8E2CA",yellow1:"#77631B",yellow2:"#B39429",yellow3:"#EFC637",yellow4:"#F3D469",yellow5:"#F7E39B",yellow6:"#FBF1CD",teal1:"#0B403F",teal2:"#11605E",teal3:"#17807E",teal4:"#51A09E",teal5:"#8BC0BF",teal6:"#C5DFDF",blue1:"#28556F",blue2:"#3D7FA6",blue3:"#51AADE",blue4:"#7DBFE6",blue5:"#A8D5EF",blue6:"#D3EAF7"};$(window).load(function(){draw_graphic()});